# 20210830网易云音乐一面

1. 自我介绍

2. 项目中的技术框架是怎么确定的？springcloud有很多其他的组件，比如eureka

3. 说下Nacos的工作原理

4. 知道CAP理论吗？Nacos满足哪些？   (C：一致性、A：可用性、P：分区容错性，一般只满足其中两个)

5. 你觉得CP和AP哪个更重要？分别有哪些的应用场景

6. Hystrix有什么用？在项目中是怎么体现的？

7. 了解Hystrix的底层实现原理吗？

8. 了解微服务雪崩吗？怎么解决的？  （这个和Redis缓存雪崩不一样）

9. 对象什么时候进入老年代？

10. 年龄计数器是存在哪里的？   （对象内部）

11. JVM怎么查看内存中的对象和目前的线程情况？

12. Mysql中有哪些索引，以及对应的数据类型

13. 实际场景：有abc三列，a表示类型，b表示时间，c表示内容，现在要查询某个类型的前100个的内容c，如何建立索引？

14. 要把c也要加到索引里面吗？为什么？    （我回答的聚集索引，c在索引里面就不用查库）

15. 这个索引在b+树里面是怎么存储的？   

16. 实际场景：有很多手机号，现在需要判断手机号是否发送过短信，已经发送过的不再发送，用什么数据结构存储更好？         （位图 或 HashSet）

17. 有比位图更小的数据结构吗？

18. 实际场景：统计网站访问量，同一个ip只计一次，用Redis里面什么数据结构？

19. 实际场景：现在有个需求，首页有广告的banner，每个用户有不同的执行流程，比如普通用户执行流程：1. 加载首页数据 2. 向广告微服务发送请求 3. 根据返回请求访问不同广告banner 4. ...

    ​					不同用户有不同的执行流程，如果后台首页逻辑写死的话流程不能变，问该怎么设计？  结合设计模式

20. 实际场景：这样首页的访问量qps过高的会导致加载的非常慢，后台响应时间也非常久（和多个微服务交互），问该怎么解决？   （集群、Redis缓存、MQ都不行）

21. 反问